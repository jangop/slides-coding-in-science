<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>reveal.js</title>

    <link rel="stylesheet" href="reveal.js/dist/reset.css">
    <link rel="stylesheet" href="reveal.js/dist/reveal.css">
    <link rel="stylesheet" href="reveal.js/dist/theme/black.css">

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="reveal.js/plugin/highlight/monokai.css">
</head>

<style>
    /*noinspection CssUnusedSymbol*/
    .reveal {
        /*noinspection CssInvalidPropertyValue*/
        text-wrap: balance;
    }

    .reveal .cols {
        display: flex;
    }

    .reveal .col {
        flex: 1;
    }

    .reveal ul {
        list-style: circle;
    }

    .reveal .orderly {
        text-align: left;
    }

    .reveal h2 {
        text-transform: revert;
    }

    .reveal h3 {
        text-transform: revert;
    }

</style>

<body>
<div class="reveal">
    <div class="slides">
        <section>
            <h1>Coding Science</h1>
            <h2>2023</h2>
            <p>by <a href="https://janphilip.gopfert.eu">Jan Philip Göpfert</a></p>
        </section>
        <section>
            <p>We are scientists. We write code.</p>
            <p class="fragment">How do we do it right?</p>
        </section>
        <section>
            <h3>Today's Agenda</h3>
            <div class="cols" style="margin-top: 2em">
                <div class="col">Principles</div>
                <div class="col">Tools & Workflows</div>
                <div class="col">An Example</div>
            </div>
        </section>
        <section>
            <h3>Part I</h3>
            <h2 class="fragment">Principles</h2>
        </section>
        <section>
            <div class="orderly">
                <p>We want code that is</p>
                <ul>
                    <li class="fragment"><em>shareable</em>,</li>
                    <li class="fragment"><em>usable</em>,</li>
                    <li class="fragment"><em>maintainable</em>.</li>
                </ul>
                <p class="fragment">This enables <em>reproducible</em> experiments and <em>collaboration</em>.</p>
                <p class="fragment">If done right, it also makes life easier for us.</p>
            </div>
        </section>
        <section>
            <div class="orderly">
                <h3>Consensus Matters</h3>
                <p class="fragment">Instead of guessing, see what others do.</p>
                <p class="fragment">Use <em>conventions</em> and <em>standards</em>.</p>
                <p class="fragment">Resist the urge to reinvent the wheel!</p>
            </div>
        </section>
        <section>
            <div class="orderly">
                <h3>Cognitive Limits Matter</h3>
                <p class="fragment">We are not only limited by our intellectual capacity, but also by our <em>cognitive
                    limits</em>.</p>
                <p class="fragment">Reduce cognitive load!</p>
            </div>
        </section>
        <section>
            <div class="orderly">
                <h3>The Environment Evolves</h3>
                <p class="fragment">These slides will soon be outdated.</p>
                <p class="fragment">Stay up-to-date and flexible!</p>
            </div>
        </section>
        <section>
            <div class="orderly">
                <p>Right now, in 2023, when coding, in Machine Learning, in Science, do the following:</p>
                <ul>
                    <li>use Python, unless you cannot</li>
                    <li>use conda, or manage your environment otherwise</li>
                    <li>use Git</li>
                    <li>use GitHub, if you can</li>
                    <li>use plain text, wherever reasonable</li>
                    <li>use automation, such as formatters, and test suits</li>
                    <li>use pip, PEP8, Black, Ruff, pytest, pre-commit</li>
                    <li>use issues and pull requests, if |you| ≫ 1</li>
                    <li>only use Jupyter Notebooks for interactive exploration and demos</li>
                </ul>
            </div>
        </section>
        <section>
            <h3>Part II</h3>
            <h2 class="fragment">Tools & Workflows</h2>
        </section>
        <section>
            <h3>Python</h3>
            <p>Know which version you are using.</p>
            <pre class="bash">
                <code data-trim>
                    jangop@Growlithe ~> python --version
                    Python 3.10.12
                </code>
            </pre>
            <pre class="bash">
                <code data-trim>
                    jangop@Growlithe ~> which python
                    /home/jangop/miniconda3/bin/python
                </code>
            </pre>
        </section>
        <section>
            <h3>Python</h3>
            <p>How does one choose a Python version?</p>
            <p class="fragment">
                Go to <a href="https://www.python.org/downloads/">python.org</a>
                and see which is the latest stable version. Right now, it is 3.12.
            </p>
            <p class="fragment">
                If you rely on a major library, check which version it supports.
                Numpy and Scikit-Learn usually support the latest version.
                PyTorch is sometimes a bit behind.
            </p>
        </section>
        <section>
            <h3>Anaconda</h3>
            <p>You <em>must</em> manage your environment.</p>
            <p class="fragment">Otherwise, your results <em>will not</em> be reproducible.</p>
            <p class="fragment">
                Download and install Miniconda from <a
                    href="https://docs.conda.io/en/latest/miniconda.html">conda.io</a>.
            </p>
            <pre class="bash fragment">
                <code data-trim>
                    wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh
                    sha256sum Miniconda3-latest-Linux-x86_64.sh
                    bash Miniconda3-latest-Linux-x86_64.sh
                </code>
            </pre>
        </section>
        <section>
            <h3>Git</h3>
            <p>Do not fear branching or merging.</p>
            <pre class="bash fragment">
                <code data-trim>
                    git checkout -b awesome-new-feature
                </code>
            </pre>
            <p class="fragment">Merge via a pull request.</p>
        </section>
        <section>
            <h3>GitHub</h3>
            <p>Issues are all you need to manage your project, and they are close to the code.</p>
            <p class="fragment">Pull requests give structure to your progress, your branches, and your merges.</p>
            <p class="fragment">GitHub Actions handle automation. <br> (More on this later.)</p>
        </section>
        <section>
            <h3>Plain text</h3>
            <p>Write documentation in plain text and style it adhering to Markdown.</p>
            <p class="fragment">Write a `README.md`. It should ideally be included in the very first commit.</p>
            <p class="fragment">Include a `LICENSE`. GitHub helps with this.</p>
            <p class="fragment">Rely on commit messages, issues, and pull requests to document your progress.</p>
        </section>
        <section>
            <h3>pip & pypi</h3>
            <p>Use dependencies that are available on pypi.</p>
            <p class="fragment">Use pip to install dependencies and to install your own package.</p>
            <p class="fragment">Define dependencies in `pyproject.toml`.</p>
            <p class="fragment">Keep experiments and demos (e.g. Jupyter Notebooks) separate from your package.</p>
        </section>
        <section>
            <h3>Black & Ruff</h3>
            <p>Read and follow PEP8.</p>
            <p class="fragment">Do not waste <em>any</em> time on formatting or discussions about formatting.</p>
            <p class="fragment">Black styles your code for you.</p>
            <pre class="bash fragment">
                <code data-trim>
                    pip install black
                    black .
                </code>
            </pre>
            <p class="fragment">Ruff lints (and styles) your code for you.</p>
            <pre class="bash fragment">
                <code data-trim>
                    pip install ruff
                    ruff .
                </code>
            </pre>
            <p class="fragment">Use pre-commit to automate this!</p>
        </section>
        <section>
            <h3>pre-commit</h3>
            <p>Git hooks are scripts that run before or after certain actions.</p>
            <p class="fragment">Hooks that run before a commit are very common and useful to run code formatters.</p>
            <p class="fragment">pre-commit is a tool that manages your (pre-commit) hooks.</p>
            <pre class="bash fragment">
                <code data-trim>
                    pip install pre-commit
                    pre-commit install
                </code>
            </pre>
            <p class="fragment">This requires a `.pre-commit-config.yaml` file.</p>
        </section>
        <section>
            <h3>.pre-commit-config.yaml</h3>
            <pre class="yaml">
                <code data-trim>
                    repos:
                    -   repo: https://github.com/pre-commit/pre-commit-hooks
                        rev: v4.5.0
                        hooks:
                        -   id: trailing-whitespace
                        -   id: end-of-file-fixer
                    -   repo: https://github.com/charliermarsh/ruff-pre-commit
                        rev: v0.1.0
                        hooks:
                        -   id: ruff
                            args:
                                - --fix
                    -   repo: https://github.com/psf/black
                        rev: 23.10.0
                        hooks:
                        -   id: black
                </code>
            </pre>
        </section>
        <section>
            <h3>pytest</h3>
            <p>You do not need perfect tests to validate your scientific results.</p>
            <p>Use tests to ensure that your code executes as expected.</p>
        </section>
        <section>
            <h3>Part III</h3>
            <h2 class="fragment">An Example</h2>
        </section>
        <section>
            <h3>Example: Project Structure</h3>
            <pre class="bash">
                <code data-trim>
                    ~/work/awesome> tree -L 2
                    .

                </code>
            </pre>
        </section>
    </div>
</div>

<script src="reveal.js/dist/reveal.js"></script>
<script src="reveal.js/plugin/notes/notes.js"></script>
<script src="reveal.js/plugin/markdown/markdown.js"></script>
<script src="reveal.js/plugin/highlight/highlight.js"></script>
<script src="reveal.js/plugin/math/math.js"></script>
<script>
    // More info about initialization & config:
    // - https://revealjs.com/initialization/
    // - https://revealjs.com/config/
    Reveal.initialize({
        hash: true,
        slideNumber: 'c/t',

        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [RevealMarkdown, RevealHighlight, RevealNotes, RevealMath.KaTeX]
    });
</script>
</body>
</html>
